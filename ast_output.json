[
    {
        "name": "put_image",
        "params": [
            {
                "name": "base",
                "type": "INT"
            },
            {
                "name": "width",
                "type": "INT"
            },
            {
                "name": "height",
                "type": "INT"
            }
        ],
        "return_type": "INT",
        "body": []
    },
    {
        "name": "xmin",
        "type": null,
        "expression": {
            "op": "MINUS",
            "expr": {
                "value": 2.0
            }
        },
        "is_const": true
    },
    {
        "name": "xmax",
        "type": null,
        "expression": {
            "value": 1.0
        },
        "is_const": true
    },
    {
        "name": "ymin",
        "type": null,
        "expression": {
            "op": "MINUS",
            "expr": {
                "value": 1.5
            }
        },
        "is_const": true
    },
    {
        "name": "ymax",
        "type": null,
        "expression": {
            "value": 1.5
        },
        "is_const": true
    },
    {
        "name": "threshhold",
        "type": null,
        "expression": {
            "value": 1000
        },
        "is_const": true
    },
    {
        "name": "in_mandelbrot",
        "params": [
            {
                "name": "x0",
                "type": "FLOAT_TYPE"
            },
            {
                "name": "y0",
                "type": "FLOAT_TYPE"
            },
            {
                "name": "n",
                "type": "INT"
            }
        ],
        "return_type": "BOOL_TYPE",
        "body": [
            {
                "name": "x",
                "type": "FLOAT_TYPE",
                "expression": {
                    "value": 0.0
                },
                "is_const": false
            },
            {
                "name": "y",
                "type": "FLOAT_TYPE",
                "expression": {
                    "value": 0.0
                },
                "is_const": false
            },
            {
                "name": "xtemp",
                "type": "FLOAT_TYPE",
                "expression": null,
                "is_const": false
            },
            {
                "condition": {
                    "left": {
                        "name_or_expr": "n"
                    },
                    "op": "GT",
                    "right": {
                        "value": 0
                    }
                },
                "body": [
                    {
                        "location": {
                            "name_or_expr": "xtemp"
                        },
                        "expression": {
                            "left": {
                                "left": {
                                    "left": {
                                        "name_or_expr": "x"
                                    },
                                    "op": "TIMES",
                                    "right": {
                                        "name_or_expr": "x"
                                    }
                                },
                                "op": "MINUS",
                                "right": {
                                    "left": {
                                        "name_or_expr": "y"
                                    },
                                    "op": "TIMES",
                                    "right": {
                                        "name_or_expr": "y"
                                    }
                                }
                            },
                            "op": "PLUS",
                            "right": {
                                "name_or_expr": "x0"
                            }
                        }
                    },
                    {
                        "location": {
                            "name_or_expr": "y"
                        },
                        "expression": {
                            "left": {
                                "left": {
                                    "left": {
                                        "value": 2.0
                                    },
                                    "op": "TIMES",
                                    "right": {
                                        "name_or_expr": "x"
                                    }
                                },
                                "op": "TIMES",
                                "right": {
                                    "name_or_expr": "y"
                                }
                            },
                            "op": "PLUS",
                            "right": {
                                "name_or_expr": "y0"
                            }
                        }
                    },
                    {
                        "location": {
                            "name_or_expr": "x"
                        },
                        "expression": {
                            "name_or_expr": "xtemp"
                        }
                    },
                    {
                        "location": {
                            "name_or_expr": "n"
                        },
                        "expression": {
                            "left": {
                                "name_or_expr": "n"
                            },
                            "op": "MINUS",
                            "right": {
                                "value": 1
                            }
                        }
                    },
                    {
                        "condition": {
                            "left": {
                                "left": {
                                    "left": {
                                        "name_or_expr": "x"
                                    },
                                    "op": "TIMES",
                                    "right": {
                                        "name_or_expr": "x"
                                    }
                                },
                                "op": "PLUS",
                                "right": {
                                    "left": {
                                        "name_or_expr": "y"
                                    },
                                    "op": "TIMES",
                                    "right": {
                                        "name_or_expr": "y"
                                    }
                                }
                            },
                            "op": "GT",
                            "right": {
                                "value": 4.0
                            }
                        },
                        "then_branch": [
                            {
                                "expression": {
                                    "value": false
                                }
                            }
                        ],
                        "else_branch": []
                    }
                ]
            },
            {
                "expression": {
                    "value": true
                }
            }
        ]
    },
    {
        "name": "mandel",
        "params": [
            {
                "name": "width",
                "type": "INT"
            },
            {
                "name": "height",
                "type": "INT"
            }
        ],
        "return_type": "INT",
        "body": [
            {
                "name": "dx",
                "type": "FLOAT_TYPE",
                "expression": {
                    "left": {
                        "left": {
                            "name_or_expr": "xmax"
                        },
                        "op": "MINUS",
                        "right": {
                            "name_or_expr": "xmin"
                        }
                    },
                    "op": "DIVIDE",
                    "right": {
                        "type": "FLOAT_TYPE",
                        "expr": {
                            "name_or_expr": "width"
                        }
                    }
                },
                "is_const": false
            },
            {
                "name": "dy",
                "type": "FLOAT_TYPE",
                "expression": {
                    "left": {
                        "left": {
                            "name_or_expr": "ymax"
                        },
                        "op": "MINUS",
                        "right": {
                            "name_or_expr": "ymin"
                        }
                    },
                    "op": "DIVIDE",
                    "right": {
                        "type": "FLOAT_TYPE",
                        "expr": {
                            "name_or_expr": "height"
                        }
                    }
                },
                "is_const": false
            },
            {
                "name": "ix",
                "type": "INT",
                "expression": {
                    "value": 0
                },
                "is_const": false
            },
            {
                "name": "iy",
                "type": "INT",
                "expression": {
                    "left": {
                        "name_or_expr": "height"
                    },
                    "op": "MINUS",
                    "right": {
                        "value": 1
                    }
                },
                "is_const": false
            },
            {
                "name": "addr",
                "type": "INT",
                "expression": {
                    "value": 0
                },
                "is_const": false
            },
            {
                "name": "memsize",
                "type": "INT",
                "expression": {
                    "op": "GROW",
                    "expr": {
                        "left": {
                            "left": {
                                "name_or_expr": "width"
                            },
                            "op": "TIMES",
                            "right": {
                                "name_or_expr": "height"
                            }
                        },
                        "op": "TIMES",
                        "right": {
                            "value": 4
                        }
                    }
                },
                "is_const": false
            },
            {
                "condition": {
                    "left": {
                        "name_or_expr": "iy"
                    },
                    "op": "GE",
                    "right": {
                        "value": 0
                    }
                },
                "body": [
                    {
                        "location": {
                            "name_or_expr": "ix"
                        },
                        "expression": {
                            "value": 0
                        }
                    },
                    {
                        "condition": {
                            "left": {
                                "name_or_expr": "ix"
                            },
                            "op": "LT",
                            "right": {
                                "name_or_expr": "width"
                            }
                        },
                        "body": [
                            {
                                "condition": {
                                    "name": "in_mandelbrot",
                                    "params": [],
                                    "return_type": null,
                                    "body": [
                                        {
                                            "left": {
                                                "left": {
                                                    "type": "FLOAT_TYPE",
                                                    "expr": {
                                                        "name_or_expr": "ix"
                                                    }
                                                },
                                                "op": "TIMES",
                                                "right": {
                                                    "name_or_expr": "dx"
                                                }
                                            },
                                            "op": "PLUS",
                                            "right": {
                                                "name_or_expr": "xmin"
                                            }
                                        },
                                        {
                                            "left": {
                                                "left": {
                                                    "type": "FLOAT_TYPE",
                                                    "expr": {
                                                        "name_or_expr": "iy"
                                                    }
                                                },
                                                "op": "TIMES",
                                                "right": {
                                                    "name_or_expr": "dy"
                                                }
                                            },
                                            "op": "PLUS",
                                            "right": {
                                                "name_or_expr": "ymin"
                                            }
                                        },
                                        {
                                            "name_or_expr": "threshhold"
                                        }
                                    ]
                                },
                                "then_branch": [
                                    {
                                        "location": {
                                            "name_or_expr": {
                                                "name_or_expr": "addr"
                                            }
                                        },
                                        "expression": {
                                            "value": "\u00ff"
                                        }
                                    },
                                    {
                                        "location": {
                                            "name_or_expr": {
                                                "left": {
                                                    "name_or_expr": "addr"
                                                },
                                                "op": "PLUS",
                                                "right": {
                                                    "value": 1
                                                }
                                            }
                                        },
                                        "expression": {
                                            "value": "\u0000"
                                        }
                                    },
                                    {
                                        "location": {
                                            "name_or_expr": {
                                                "left": {
                                                    "name_or_expr": "addr"
                                                },
                                                "op": "PLUS",
                                                "right": {
                                                    "value": 2
                                                }
                                            }
                                        },
                                        "expression": {
                                            "value": "\u0000"
                                        }
                                    },
                                    {
                                        "location": {
                                            "name_or_expr": {
                                                "left": {
                                                    "name_or_expr": "addr"
                                                },
                                                "op": "PLUS",
                                                "right": {
                                                    "value": 3
                                                }
                                            }
                                        },
                                        "expression": {
                                            "value": "\u00ff"
                                        }
                                    }
                                ],
                                "else_branch": [
                                    {
                                        "location": {
                                            "name_or_expr": {
                                                "name_or_expr": "addr"
                                            }
                                        },
                                        "expression": {
                                            "value": "\u00ff"
                                        }
                                    },
                                    {
                                        "location": {
                                            "name_or_expr": {
                                                "left": {
                                                    "name_or_expr": "addr"
                                                },
                                                "op": "PLUS",
                                                "right": {
                                                    "value": 1
                                                }
                                            }
                                        },
                                        "expression": {
                                            "value": "\u00ff"
                                        }
                                    },
                                    {
                                        "location": {
                                            "name_or_expr": {
                                                "left": {
                                                    "name_or_expr": "addr"
                                                },
                                                "op": "PLUS",
                                                "right": {
                                                    "value": 2
                                                }
                                            }
                                        },
                                        "expression": {
                                            "value": "\u00ff"
                                        }
                                    },
                                    {
                                        "location": {
                                            "name_or_expr": {
                                                "left": {
                                                    "name_or_expr": "addr"
                                                },
                                                "op": "PLUS",
                                                "right": {
                                                    "value": 3
                                                }
                                            }
                                        },
                                        "expression": {
                                            "value": "\u00ff"
                                        }
                                    }
                                ]
                            },
                            {
                                "location": {
                                    "name_or_expr": "addr"
                                },
                                "expression": {
                                    "left": {
                                        "name_or_expr": "addr"
                                    },
                                    "op": "PLUS",
                                    "right": {
                                        "value": 4
                                    }
                                }
                            },
                            {
                                "location": {
                                    "name_or_expr": "ix"
                                },
                                "expression": {
                                    "left": {
                                        "name_or_expr": "ix"
                                    },
                                    "op": "PLUS",
                                    "right": {
                                        "value": 1
                                    }
                                }
                            }
                        ]
                    },
                    {
                        "location": {
                            "name_or_expr": "iy"
                        },
                        "expression": {
                            "left": {
                                "name_or_expr": "iy"
                            },
                            "op": "MINUS",
                            "right": {
                                "value": 1
                            }
                        }
                    }
                ]
            },
            {
                "expression": {
                    "value": 0
                }
            }
        ]
    },
    {
        "name": "make_plot",
        "params": [
            {
                "name": "width",
                "type": "INT"
            },
            {
                "name": "height",
                "type": "INT"
            }
        ],
        "return_type": "INT",
        "body": [
            {
                "name": "result",
                "type": "INT",
                "expression": {
                    "name": "mandel",
                    "params": [],
                    "return_type": null,
                    "body": [
                        {
                            "name_or_expr": "width"
                        },
                        {
                            "name_or_expr": "height"
                        }
                    ]
                },
                "is_const": false
            },
            {
                "expression": {
                    "name": "put_image",
                    "params": [],
                    "return_type": null,
                    "body": [
                        {
                            "value": 0
                        },
                        {
                            "name_or_expr": "width"
                        },
                        {
                            "name_or_expr": "height"
                        }
                    ]
                }
            }
        ]
    },
    {
        "name": "main",
        "params": [],
        "return_type": "INT",
        "body": [
            {
                "expression": {
                    "name": "make_plot",
                    "params": [],
                    "return_type": null,
                    "body": [
                        {
                            "value": 800
                        },
                        {
                            "value": 800
                        }
                    ]
                }
            }
        ]
    }
]